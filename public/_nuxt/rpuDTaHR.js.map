{"version":3,"file":"rpuDTaHR.js","sources":["../../../../pages/auth/verify-reset.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"relative mx-5 py-5 px-4 border border-gray-400 dark:border-gray-700\"\r\n  >\r\n    <AlertMessageBox\r\n      v-if=\"resetError\"\r\n      theme=\"danger\"\r\n      :message=\"resetError.message\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nconst route = useRoute();\r\nconst { verifyReset } = useCheckout();\r\n\r\ndefinePageMeta({\r\n  layout: \"auth\",\r\n  middleware: \"auth\",\r\n});\r\nuseHead({\r\n  title: \"Verify Reset Password\",\r\n});\r\nconst resetError = ref(<Error | null>null);\r\n// Get token from url parameters\r\nconst token = route.query.token as string;\r\n// If verification fails\r\nif (!token) navigateTo(\"/auth/verify-failed\");\r\n// Get token from url parameters\r\n\r\ntry {\r\n  const { data, error } = await verifyReset(token);\r\n  // If verification fails, navigate to a verify failed page\r\n  if (error) navigateTo(\"/auth/verify-failed\");\r\n  // If successful, navigate to login page\r\n  if (data) navigateTo(`/auth/verify-reset-success?pass=${data.pass}`);\r\n} catch (e) {\r\n  // If other error, like a server error occurs, show generic error message\r\n  // console.log(e)\r\n  resetError.value = {} as Error;\r\n  resetError.value.message = \"Error. Please contact an administrator.\";\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"names":["route","useRoute","verifyReset","useCheckout","useHead","resetError","ref","token","navigateTo","data","error","__temp","__restore","_withAsyncContext"],"mappings":"uWAaA,MAAMA,EAAQC,IACR,CAAE,YAAAC,GAAgBC,IAMhBC,EAAA,CACN,MAAO,uBAAA,CACR,EACK,MAAAC,EAAaC,EAAkB,IAAI,EAEnCC,EAAQP,EAAM,MAAM,MAErBO,GAAOC,EAAW,qBAAqB,EAGxC,GAAA,CACF,KAAM,CAAE,KAAAC,EAAM,MAAAC,IAAU,CAAAC,EAAAC,CAAA,EAAAC,EAAA,IAAMX,EAAYK,CAAK,CAAA,mBAE3CG,KAAkB,qBAAqB,EAEvCD,GAAMD,EAAW,mCAAmCC,EAAK,IAAI,EAAE,OACzD,CAGVJ,EAAW,MAAQ,GACnBA,EAAW,MAAM,QAAU,yCAC7B"}